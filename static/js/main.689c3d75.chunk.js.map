{"version":3,"sources":["Child.js","sample/sample.mp4","player.js","woman-1869463_1920.jpg","brush-1317908_1920.jpg","styles.js","login.js","calcHu.js","selectVideos.js","utilities.js","exercise.js","result.js","App.js","index.js"],"names":["Child","VideoPlayer","props","context","state","currentTime","ended","count","play","bind","getCurrentTime","getState","this","player","subscribeToStateChange","handleStateChange","setState","setCurrentTime","setPlayerState","ref","src","video_mp4","type","disableCompletely","Component","darktheme","createMuiTheme","palette","loginbackground","minWidth","minHeight","backgroundImage","loginimage","backgroundSize","backgroudPostion","backgroundAttachment","bkbackground","selectimage","backgroundColor","titletext","color","fontSize","whiteSpace","scoretext","linktext","textDecoration","resulttext","resultsubtext","iconstyle","login","style","ThemeProvider","theme","Grid","container","spacing","direction","alignItems","justify","item","xs","Box","my","TextField","name","label","variant","autoComplete","to","Button","React","calcHu","mData","calcMoment","i","j","Mij","n","calcCentorMoment","mij","x_","y_","calcNyu","drawPoint","ctx","y","x","r","videoWidth","beginPath","arc","Math","PI","fillStyle","fill","drawKeypoints","keypoints","minConfidence","scale","length","keypoint","score","toTuple","drawSegment","ay","ax","by","bx","moveTo","lineTo","lineWidth","strokeStyle","stroke","drawSkeleton","adjacentKeyPoints","posenet","forEach","MoveLink","onlyWidth","useWindowWidth","width","parseInt","height","useState","setScore","playerState","setPlay","startTime","setStartTime","setCount","open","setOpen","totalScore","setTotalScore","webcamRef","useRef","canvasRef","handleClose","window","location","reload","pose","refSize","Data","size","videoTime","time","detectWebCamFeed","detector","a","current","video","readyState","videoHeight","estimatePoses","drawResult","calcSimilarity","runMovenet","detectorConfig","modelType","poseDetection","SINGLEPOSE_LIGHTNING","MoveNet","setInterval","canvas","getContext","flag","now","performance","currentTime_","targetFrame","round","searchFrame","keypoints_x","data","splice","keypoints_y","map","Hu1","similarity","hu1","hu2","mode","s","mA","sign","log10","abs","mB","calc_matchshape","useEffect","console","log","Transition","forwardRef","Slide","AppBar","position","Toolbar","textAlign","onClick","mx","sm","md","mirrored","Dialog","TransitionComponent","keepMounted","onClose","DialogTitle","id","DialogContent","DialogContentText","DialogActions","result","LinearProgress","value","App","basename","process","exact","path","component","moveLinkExercise","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.689c3d75.chunk.js","sourcesContent":["function Child(props) {\n    const message = 2\n    return (\n      <div className=\"App\">\n        子要素\n        <button onClick={props.onClick}>ボタン</button>\n      </div>\n    );\n  }\n   \n  export default Child;","export default __webpack_public_path__ + \"static/media/sample.bd749eea.mp4\";","import React, { Component } from 'react';\nimport { Player, ControlBar, BigPlayButton } from \"video-react\";\nimport \"video-react/dist/video-react.css\";\nimport video_mp4 from \"./sample/sample.mp4\";\n// import { Button } from 'reactstrap';\nimport Button from \"@material-ui/core/Button\";\n\nclass VideoPlayer extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.state = {\n            currentTime: 0,\n            ended: false,\n            count: 0\n        };\n        this.play = this.play.bind(this);\n        this.getCurrentTime = this.getCurrentTime.bind(this);\n        this.getState = this.getState.bind(this);\n    }\n\n\n    componentDidMount() {\n        // subscribe state change\n        this.player.subscribeToStateChange(this.handleStateChange.bind(this));\n    }\n\n    handleStateChange(state) {\n        // copy player state to this component's state\n        this.setState({\n            player: state,\n        });\n    }\n\n    play() {\n        this.player.play();\n    }\n\n    getCurrentTime() {\n        const { player } = this.player.getState();\n        this.setState( {currentTime: player.currentTime})//, count: this.state.count+1})\n        this.props.setCurrentTime(this.state.currentTime)\n    }\n\n    getState() {\n        const { player } = this.player.getState();\n        this.setState( {ended: player.ended})//, count: this.state.count+1})\n        this.props.setPlayerState(this.state.ended)\n    }\n\n    componentDidUpdate() {\n        // this.player.subscribeToStateChange(this.getCurrentTime);\n        this.player.subscribeToStateChange(this.getState);\n        if(this.props.play){\n            if(this.state.count===0){\n                this.play()\n                this.setState( {count: this.state.count+1})\n            }\n\n        }\n    }\n\n    render() {\n        //this.player.subscribeToStateChange(this.getCurrentTime);\n        return (\n            <div>\n                <Player\n                    ref={player => {\n                        this.player = player;\n                    }}\n                    // autoPlay\n                >\n                    <source src={video_mp4} type=\"video/mp4\" />\n                    <ControlBar disableCompletely={true} />\n                </Player>\n                {/* <p>{this.state.currentTime}</p> */}\n                {/* <Button onClick={this.play} className=\"mr-3\">\n                    Play!!\n                </Button> */}\n            </div>\n        );\n    }\n}\n\nexport default VideoPlayer;","export default __webpack_public_path__ + \"static/media/woman-1869463_1920.dc599173.jpg\";","export default __webpack_public_path__ + \"static/media/brush-1317908_1920.7f2deb0a.jpg\";","import { createMuiTheme } from \"@material-ui/core/styles\";\n\nimport loginimage from \"./woman-1869463_1920.jpg\";\nimport selectimage from \"./brush-1317908_1920.jpg\";\n\nexport const darktheme = createMuiTheme({\n  palette: {\n    type: \"dark\"\n  }\n});\n\nexport const loginbackground = {\n  minWidth: \"100vw\",\n  minHeight: \"100vh\",\n  backgroundImage: `url(${loginimage})`,\n  backgroundSize: \"cover\",\n  backgroudPostion: \"center center\",\n  backgroundAttachment: \"fixed\"\n};\n\nexport const selectbackground = {\n  minWidth: \"100vw\",\n  minHeight: \"100vh\",\n  backgroundImage: `url(${selectimage})`,\n  backgroundSize: \"cover\",\n  backgroudPostion: \"center center\"\n};\n\nexport const bkbackground = {\n  minWidth: \"100vw\",\n  minHeight: \"100vh\",\n  backgroundColor: \"#202020\"\n};\n\nexport const titletext = {\n  color: \"white\",\n  fontSize: \"3vw\",\n  whiteSpace: \"pre-line\"\n};\n\nexport const scoretext = {\n  color: \"white\",\n  fontSize: \"3vw\"\n};\n\nexport const linktext = {\n  color: \"white\",\n  textDecoration: \"none\"\n};\n\nexport const resulttext = {\n  color: \"yellow\",\n  fontSize: \"3vw\"\n};\n\nexport const resultsubtext = {\n  color: \"white\",\n  fontSize: \"1.5vw\"\n};\n\nexport const iconstyle = {\n  color: \"white\",\n  fontSize: \"7vw\"\n};\n\nexport const varstyle = {\n  root: {\n    flexGrow: 1\n  },\n  menuButton: {\n    marginRight: 2\n  },\n  title: {\n    flexGrow: 1\n  }\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { darktheme, loginbackground, titletext, linktext } from \"./styles\";\n\nclass login extends React.Component {\n  render() {\n    return (\n      <section style={loginbackground}>\n        <ThemeProvider theme={darktheme}>\n          <Grid\n            container\n            spacing={0}\n            direction=\"column\"\n            alignItems=\"center\"\n            justify=\"center\"\n            style={{ minHeight: \"90vh\" }}\n          >\n            <Grid item xs={12}>\n              <Box style={titletext}>motion-link</Box>\n            </Grid>\n            <Box my={1}>\n              <Grid item xs={12}>\n                <TextField\n                  name=\"name\"\n                  label=\"name\"\n                  variant=\"outlined\"\n                  autoComplete=\"off\"\n                />\n              </Grid>\n            </Box>\n            <Box my={1}>\n              <Grid item xs={12}>\n                <TextField\n                  name=\"password\"\n                  label=\"password\"\n                  variant=\"outlined\"\n                  autoComplete=\"off\"\n                />\n              </Grid>\n            </Box>\n            <Box my={1}>\n              <Grid item xs={12}>\n                <Link to={`/exercise`} style={linktext}>\n                  <Button variant=\"contained\" color=\"primary\">\n                    Start Exercise!!\n                  </Button>\n                </Link>\n              </Grid>\n            </Box>\n          </Grid>\n        </ThemeProvider>\n      </section>\n    );\n  }\n}\n\nexport default login;\n","import React from \"react\";\n\nconst calcHu = (mData) => {\n    const calcMoment = (i,j) => {\n        let Mij = 0\n        for (let n in mData[0]){\n            Mij += (mData[0][n] ** i) * (mData[1][n] ** j)\n        }\n        return Mij\n    }\n\n    const calcCentorMoment = (i,j) => {\n        let mij = 0\n        let x_ = calcMoment(1,0)/calcMoment(0,0)\n        let y_ = calcMoment(0,1)/calcMoment(0,0)\n        for (let n in mData[0]){\n            mij += ((mData[0][n]-x_)**i) * ((mData[1][n]-y_)**j)\n        }\n        return mij\n    }\n\n    const calcNyu = (i,j) => {\n        let nij = calcCentorMoment(i,j) / (calcCentorMoment(0,0) ** (1+((i+j)/2)))\n        return nij\n    }\n\n    let I1 = calcNyu(2,0) + calcNyu(0,2)\n    let I2 = ((calcNyu(2,0) - calcNyu(0,2))**2) + 4*(calcNyu(1,1)**2)\n    let I3 = ((calcNyu(3,0) - 3*calcNyu(1,2))**2) + ((3*calcNyu(2,1) - calcNyu(0,3))**2)\n    let I4 = ((calcNyu(3,0) + calcNyu(1,2))**2) + ((calcNyu(2,1) + calcNyu(0,3))**2)\n    let I5 = (calcNyu(3,0) - 3*calcNyu(1,2)) * (calcNyu(3,0)+calcNyu(1,2)) * (((calcNyu(3,0)+calcNyu(1,2))**2)-3*((calcNyu(2,1)+calcNyu(0,3))**2)) + (3*calcNyu(2,1)-calcNyu(0,3)) * (calcNyu(2,1)+calcNyu(0,3)) * (3*((calcNyu(3,0)+calcNyu(1,2))**2)-((calcNyu(2,1)+calcNyu(0,3))**2))\n    let I6 = (calcNyu(2,0)-calcNyu(0,2)) * (((calcNyu(3,0)+calcNyu(1,2))**2) - ((calcNyu(2,1)+calcNyu(0,3))**2)) + 4*calcNyu(1,1)*(calcNyu(3,0)+calcNyu(1,2))*(calcNyu(2,1)+calcNyu(0,3))\n    let I7 = (3*calcNyu(2,1)-calcNyu(0,3)) * (calcNyu(3,0)+calcNyu(1,2)) * (((calcNyu(3,0)+calcNyu(1,2))**2)-3*((calcNyu(2,1)+calcNyu(0,3))**2)) - (calcNyu(3,0)-3*calcNyu(1,2))*(calcNyu(2,1)+calcNyu(0,3)) * (3*((calcNyu(3,0)+calcNyu(1,2))**2)-((calcNyu(2,1)+calcNyu(0,3))**2))\n    return [I1,I2,I3,I4,I5,I6,I7]\n}\n\nexport default calcHu","import React from \"react\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport { Link } from \"react-router-dom\";\nimport { darktheme, bkbackground, titletext, linktext } from \"./styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Button from \"@material-ui/core/Button\";\n\nclass selectVideos extends React.Component {\n  render() {\n    return (\n      <section style={bkbackground}>\n        <ThemeProvider theme={darktheme}>\n          <AppBar position=\"static\">\n            <Toolbar>\n              <Link to={`/`} style={linktext}>\n                <Button color=\"inherit\">logout</Button>\n              </Link>\n            </Toolbar>\n          </AppBar>\n          <Grid container>\n            <Grid item xs={12}>\n              <Box my={3} style={titletext} textAlign=\"center\">\n                Select Video\n              </Box>\n            </Grid>\n            <Grid item xs={12} sm={12} md={6} lg={4}>\n              <Box my={3} textAlign=\"center\">\n                <Link to={\"/boxercise\"}>\n                  <img\n                    src=\"https://img.youtube.com/vi/FOgKMAtcNnE/mqdefault.jpg\"\n                    alt=\"tes\"\n                  />\n                </Link>\n              </Box>\n            </Grid>\n            <Grid item xs={12} sm={12} md={6} lg={4}>\n              <Box my={3} textAlign=\"center\">\n                <Link to={\"/yoga\"}>\n                  <img\n                    src=\"https://img.youtube.com/vi/8fJk2ZLRoIE/mqdefault.jpg\"\n                    alt=\"tes\"\n                  />\n                </Link>\n              </Box>\n            </Grid>\n            <Grid item xs={12} sm={12} md={6} lg={4}>\n              <Box my={3} textAlign=\"center\">\n                <Link to={\"/hiit\"}>\n                  <img\n                    src=\"https://img.youtube.com/vi/ZCcX2Egirp4/mqdefault.jpg\"\n                    alt=\"tes\"\n                  />\n                </Link>\n              </Box>\n            </Grid>\n          </Grid>\n        </ThemeProvider>\n      </section>\n    );\n  }\n}\n\nexport default selectVideos;\n","/**\n * @license\n * Copyright 2021 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport * as posenet from \"@tensorflow-models/posenet\";\n\nconst color = \"blue\";\nconst lineWidth = 6;\nconst r = 12;\n\nexport function drawPoint(ctx, y, x, r, color, videoWidth) {\n  ctx.beginPath();\n  ctx.arc(x, y, r, 0, 2 * Math.PI);\n  ctx.fillStyle = color;\n  ctx.fill();\n}\n\nexport function drawKeypoints(\n  keypoints,\n  minConfidence,\n  ctx,\n  videoWidth,\n  scale = 1\n) {\n  for (let i = 0; i < keypoints.length; i++) {\n    const keypoint = keypoints[i];\n\n    if (keypoint.score < minConfidence) {\n      continue;\n    }\n    const x = videoWidth - keypoint.x;\n    const y = keypoint.y;\n    drawPoint(ctx, y * scale, x * scale, r, color, videoWidth);\n  }\n}\n\nfunction toTuple(y, x) {\n  return [y, x];\n}\n\nexport function drawSegment([ay, ax], [by, bx], color, scale, ctx) {\n  ctx.beginPath();\n  ctx.moveTo(ax * scale, ay * scale);\n  ctx.lineTo(bx * scale, by * scale);\n  ctx.lineWidth = lineWidth;\n  ctx.strokeStyle = color;\n  ctx.stroke();\n}\n\nexport function drawSkeleton(\n  keypoints,\n  minConfidence,\n  ctx,\n  videoWidth,\n  scale = 1\n) {\n  const adjacentKeyPoints = posenet.getAdjacentKeyPoints(\n    keypoints,\n    minConfidence\n  );\n\n  adjacentKeyPoints.forEach((keypoints) => {\n    drawSegment(\n      toTuple(keypoints[0].y, videoWidth - keypoints[0].x),\n      toTuple(keypoints[1].y, videoWidth - keypoints[1].x),\n      color,\n      scale,\n      ctx\n    );\n  });\n}\n","import React, { useState } from \"react\";\n\nimport Player from \"./player\";\nimport Data from \"./sample/analyzed.json\";\nimport calcHu from \"./calcHu\";\nimport * as poseDetection from \"@tensorflow-models/pose-detection\";\nimport \"@tensorflow/tfjs-backend-webgl\";\nimport { drawKeypoints, drawSkeleton } from \"./utilities\";\nimport Box from \"@material-ui/core/Box\";\nimport Webcam from \"react-webcam\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Slide from '@material-ui/core/Slide';\n//import YouTube from \"react-youtube\";\nimport { bkbackground, titletext, scoretext } from \"./styles\";\n\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport { darktheme, linktext } from \"./styles\";\n\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\n\nimport { useWindowWidth } from \"@react-hook/window-size\";\nimport { ContactSupportOutlined } from \"@material-ui/icons\";\nimport { setOpHandler } from \"@tensorflow/tfjs-core/dist/tensor\";\n\nconst MoveLink = () => {\n  const framerate = 29.970\n  const onlyWidth = useWindowWidth();\n  const width = parseInt(onlyWidth / 2.4, 10);\n  const height = parseInt((width * 3) / 4, 10);\n  const opts = {\n    height: height,\n    width: width,\n    playerVars: {\n      autoplay: 0\n    }\n  };\n  const [score, setScore] = useState(0);\n  // const [currentTime, setCurrentTime] = useState(0)\n  const [playerState, setPlayerState] = useState({})\n  //const [mData, setMData] = useState([])\n  // const [pose, setPose] = useState([{\"keypoints\":[], \"score\":0}])\n  const [play, setPlay] = useState(false)\n  const [startTime, setStartTime] = useState(0)\n  const [count, setCount] = useState(0)\n  const [open, setOpen] = useState(false)\n  const [totalScore, setTotalScore] = useState(0)\n  const [preTime, setPreTime] = useState(0)\n  const webcamRef = React.useRef(null);\n  const canvasRef = React.useRef(null);\n\n  const handleOpen = () => {\n    setOpen(true)\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n    window.location.reload();\n  }\n\n  let pose = [{\"keypoints\":[], \"score\":0}]\n  let mDataRef = []\n  let mDataReal = []\n  let refSize = Data.size\n  let videoTime = Data.time * 1000\n\n  const searchFrame = () => {\n    let flag = true\n    let now = performance.now()\n    //console.log(startTime)\n    //console.log(now)\n    if(startTime == 0){\n      flag = false\n    }\n    let currentTime_ = now - startTime\n    let targetFrame = Math.round(currentTime_ / framerate)\n    //console.log(currentTime_)\n    if(currentTime_ > videoTime) {\n      flag = false\n    }\n    //console.log(flag)\n    return [targetFrame, flag]\n  }\n\n  const detectWebCamFeed = async (detector) => {\n    if (\n      typeof webcamRef.current !== \"undefined\" &&\n      webcamRef.current !== null &&\n      webcamRef.current.video.readyState === 4\n    ) {\n      const video = webcamRef.current.video;\n      const videoWidth = webcamRef.current.video.videoWidth;\n      const videoHeight = webcamRef.current.video.videoHeight;\n      webcamRef.current.video.width = videoWidth;\n      webcamRef.current.video.height = videoHeight;\n      pose = await detector.estimatePoses(video);\n      // setPose(await detector.estimatePoses(video));\n      //console.log(pose)\n      drawResult(pose, video, videoWidth, videoHeight, canvasRef);\n      //console.log(play)\n      if(play){\n        calcSimilarity(pose, videoWidth, videoHeight)\n      }\n    }\n  };\n\n  const runMovenet = async () => {\n    const detectorConfig = {\n      modelType: poseDetection.movenet.modelType.SINGLEPOSE_LIGHTNING\n    };\n    const detector = await poseDetection.createDetector(\n      poseDetection.SupportedModels.MoveNet,\n      detectorConfig\n    );\n\n    setInterval(() => {\n      detectWebCamFeed(detector);\n    }, 100);\n\n    //setScore(score + 1);\n  };\n\n  runMovenet();\n\n  const drawResult = (pose, video, videoWidth, videoHeight, canvas) => {\n    const ctx = canvas.current.getContext(\"2d\");\n    canvas.current.width = videoWidth;\n    canvas.current.height = videoHeight;\n    drawKeypoints(pose[0][\"keypoints\"], 0.3, ctx, videoWidth);\n    drawSkeleton(pose[0][\"keypoints\"], 0.3, ctx, videoWidth);\n  };\n\n  const calc_matchshape = (hu1, hu2, mode=1) => {\n    let s=0\n    for (let i in hu1){\n      let mA = -Math.sign(hu1[i]) * Math.log10(Math.abs(hu1[i]))\n      let mB = -Math.sign(hu2[i]) * Math.log10(Math.abs(hu2[i]))\n      if (mode == 1) {\n        s+= Math.abs(1/mA - 1/mB);\n      } else if (mode == 2) {\n        s+= Math.abs(mA-mB);\n      } else if (mode == 3) {\n        s+= Math.abs((mA-mB)/mA);\n      }\n    }\n    return s\n  }\n\n  const calcSimilarity = (pose) => {\n    let [targetFrame, flag] = searchFrame()\n\n    if(flag){\n      // recorded\n      let keypoints_x = [...Data.data[targetFrame][\"keypoints_x\"]]\n      keypoints_x.splice(1,4)\n      let keypoints_y = [...Data.data[targetFrame][\"keypoints_y\"]]\n      keypoints_y.splice(1,4)\n      keypoints_x = keypoints_x.map(x => x*refSize[0])\n      keypoints_y = keypoints_y.map(x => x*refSize[1])\n      mDataRef = [keypoints_x, keypoints_y]\n      //console.log(currentTime)\n      //console.log(mDataRef)\n      let Hu1 = calcHu(mDataRef)\n\n      //realtime pose\n      let keypoints = pose[0][\"keypoints\"]\n      //console.log(pose)\n      keypoints_x = []\n      keypoints_y = []\n      for (let n in keypoints){\n        keypoints_x = [...keypoints_x, keypoints[n][\"x\"]]\n        keypoints_y = [...keypoints_y, keypoints[n][\"y\"]]\n      }\n      keypoints_x.splice(1,4)\n      keypoints_y.splice(1,4)\n      mDataReal = [keypoints_x, keypoints_y]\n      //console.log(mDataReal)\n      //console.log(keyP)\n      let Hu2 = calcHu(mDataReal)\n      //let Hu2 = calcHu(keyP)\n      //console.log([Hu1, Hu2])\n      let mode=3\n      let similarity = (0.5-calc_matchshape(Hu2,Hu1,mode)/10)\n      setScore(similarity)\n      // const updateTotalScore = totalScore + similarity\n      // setTotalScore(updateTotalScore)\n      //let similarity = Math.round(Math.max(0.5-calc_matchshape(Hu2,Hu1,mode)/10,0),2)\n      //console.log(similarity)\n    } else {\n      setScore(0)\n    }\n\n  }\n\n  React.useEffect(() => {\n    if(count < 2){\n      if(count==1){\n        setStartTime(performance.now())\n        console.log(\"===============--------------===============\")\n        console.log(startTime)\n      }\n      setCount(count+1)\n    }\n  }, [play])\n\n  const Transition = React.forwardRef(function Transition(props, ref) {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n  });\n\n  const _onReady = (event) => {\n    // access to player in all event handlers via event.target\n    event.target.pauseVideo();\n  };\n\n  React.useEffect(() => {\n    if(playerState){\n      if(count === 2){\n        setPlay(false)\n        handleOpen()\n      }\n    }\n  }, [playerState])\n\n  React.useEffect(() => {\n    setTotalScore(totalScore + score)\n  }, [score])\n  //const {state} = player.getState();\n  //console.log(player.currentTime); \n\n  return (\n    <section style={bkbackground}>\n      <ThemeProvider theme={darktheme}>\n        <AppBar position=\"static\">\n          <Toolbar>\n            <Link to={`/`} style={linktext}>\n              <Button color=\"inherit\">logout</Button>\n            </Link>\n          </Toolbar>\n        </AppBar>\n        <Grid container alignItems=\"center\" justify=\"center\">\n          <Grid item xs={12}>\n            <Box my={1} style={titletext} textAlign=\"center\">\n              Let's link and move!!\n            </Box>\n          </Grid>\n          <Grid item xs={12}>\n            <Box style={scoretext} textAlign=\"center\">\n              Link Score: {Math.round(score*100)/100}\n              {/* ended {playerState + \" \" + count} */}\n              {/* play {play + \" \"} */}\n            </Box>\n          </Grid>\n          <Grid item xs={12}>\n            <Box my={1} textAlign=\"center\">\n              <Button variant=\"contained\" color=\"primary\" size=\"large\" onClick={()=>{setPlay(true)}}>\n                Start !!!!!\n              </Button>\n            </Box>\n          </Grid>\n          <Grid item xs={12}>\n            <Box mx={10} my={3}>\n              <Grid container alignItems=\"center\" justify=\"center\">\n                <Grid item xs={6} sm={6} md={6}>\n                  <Box mx={3} textAlign=\"center\">\n                    <Webcam\n                      mirrored={true}\n                      ref={webcamRef}\n                      style={{\n                        position: \"absolute\",\n                        width: width,\n                        height: height\n                      }}\n                    />\n                    <canvas\n                      ref={canvasRef}\n                      style={{\n                        position: \"relative\",\n                        width: width,\n                        height: height\n                      }}\n                    />\n                  </Box>\n                </Grid>\n                <Grid item xs={6} sm={6} md={6}>\n                  <Box mx={3} textAlign=\"center\">\n                    <Player setPlayerState = {setPlayerState} play = {play}/>\n                  </Box>\n                </Grid>\n              </Grid>\n            </Box>\n            <Dialog\n              open={open}\n              TransitionComponent={Transition}\n              keepMounted\n              onClose={handleClose}\n              aria-labelledby=\"goodjob\"\n              aria-describedby=\"greatwork\"\n            >\n              <DialogTitle id=\"goodjob\">{\"Good Job!!!\"}</DialogTitle>\n                <DialogContent>\n                  <DialogContentText id=\"greatwork\">\n                     Your Score is {Math.round(totalScore*100)/100}\n                  </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                  <Link to={'/exercise'} style={linktext}>\n                    <Button variant=\"contained\" onClick={handleClose} color=\"primary\">\n                      Retry\n                    </Button>\n                  </Link>\n                  <Link to={`/result`} style={linktext}>\n                    <Button variant=\"contained\" color=\"primary\">\n                      Go To Result\n                    </Button>\n                  </Link>\n                </DialogActions>\n            </Dialog>\n          </Grid>\n\n          {/* <Grid item xs={12}>\n            <Box my={1} textAlign=\"center\">\n              <Link to={`/result`} style={linktext}>\n                <Button variant=\"contained\" color=\"primary\">\n                  Result\n                </Button>\n              </Link>\n            </Box>\n          </Grid> */}\n        </Grid>\n      </ThemeProvider>\n    </section>\n  );\n}\n\nexport default MoveLink","import React from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport {\n  darktheme,\n  bkbackground,\n  titletext,\n  resulttext,\n  iconstyle,\n  resultsubtext,\n  linktext\n} from \"./styles\";\nimport { ThemeProvider } from \"@material-ui/core\";\nimport { FaBurn } from \"react-icons/fa\";\nimport { MdTimer } from \"react-icons/md\";\nimport { GiPunchBlast } from \"react-icons/gi\";\nimport { IoIosSpeedometer } from \"react-icons/io\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Button from \"@material-ui/core/Button\";\nimport { Link } from \"react-router-dom\";\n\nconst mainMsg = \"Well Done!\\nNext time, let's extend play time!!\";\n\nclass result extends React.Component {\n  render() {\n    return (\n      <section style={bkbackground}>\n        <ThemeProvider theme={darktheme}>\n          <AppBar position=\"static\">\n            <Toolbar>\n              <Link to={`/select`} style={linktext}>\n                <Button color=\"inherit\">Select</Button>\n              </Link>\n            </Toolbar>\n          </AppBar>\n          <Grid container alignItems=\"center\" justify=\"center\">\n            <Grid item xs={12}>\n              <Box mx={15} my={5}>\n                <Grid container alignItems=\"center\" justify=\"center\">\n                  <Grid item xs={12}>\n                    <Box style={titletext} textAlign=\"center\">\n                      {mainMsg}\n                    </Box>\n                  </Grid>\n                </Grid>\n              </Box>\n            </Grid>\n\n            <Grid item xs={12}>\n              <Box mx={20} my={3}>\n                <Grid container alignItems=\"center\" justify=\"center\">\n                  <Grid item xs={12} sm={6} md={7}>\n                    <Box mx={15} textAlign=\"center\">\n                      <Box my={1} style={resultsubtext} textAlign=\"center\">\n                        This week's workout journey\n                      </Box>\n                      <Box my={1}>\n                        <LinearProgress variant=\"determinate\" value={34} />\n                      </Box>\n                    </Box>\n                  </Grid>\n                  <Grid item xs={12} sm={6} md={5}>\n                    <Box mx={5} style={resulttext} textAlign=\"left\">\n                      34 % acheved\n                    </Box>\n                  </Grid>\n                </Grid>\n              </Box>\n            </Grid>\n\n            <Grid item xs={12}>\n              <Box mx={20}>\n                <Grid container alignItems=\"center\" justify=\"center\">\n                  <Grid item xs={12} sm={4} md={2}>\n                    <Box my={3} textAlign=\"right\">\n                      <FaBurn style={iconstyle} />\n                    </Box>\n                  </Grid>\n                  <Grid item xs={12} sm={8} md={4}>\n                    <Box style={resultsubtext} textAlign=\"center\">\n                      Calorie Consumption\n                    </Box>\n                    <Box style={resulttext} textAlign=\"center\">\n                      254 kcal\n                    </Box>\n                  </Grid>\n\n                  <Grid item xs={12} sm={4} md={2}>\n                    <Box my={3} textAlign=\"right\">\n                      <IoIosSpeedometer style={iconstyle} />\n                    </Box>\n                  </Grid>\n                  <Grid item xs={12} sm={8} md={4}>\n                    <Box style={resultsubtext} textAlign=\"center\">\n                      Average Punch Speed\n                    </Box>\n                    <Box style={resulttext} textAlign=\"center\">\n                      36 km/h\n                    </Box>\n                  </Grid>\n\n                  <Grid item xs={12} sm={4} md={2}>\n                    <Box my={3} textAlign=\"right\">\n                      <MdTimer style={iconstyle} />\n                    </Box>\n                  </Grid>\n                  <Grid item xs={12} sm={8} md={4}>\n                    <Box style={resultsubtext} textAlign=\"center\">\n                      Play Time\n                    </Box>\n                    <Box style={resulttext} textAlign=\"center\">\n                      0h 10min\n                    </Box>\n                  </Grid>\n                  <Grid item xs={12} sm={4} md={2}>\n                    <Box my={3} textAlign=\"right\">\n                      <GiPunchBlast style={iconstyle} />\n                    </Box>\n                  </Grid>\n                  <Grid item xs={12} sm={8} md={4}>\n                    <Box style={resultsubtext} textAlign=\"center\">\n                      Largest Strokes\n                    </Box>\n                    <Box style={resulttext} textAlign=\"center\">\n                      85\n                    </Box>\n                  </Grid>\n                </Grid>\n              </Box>\n            </Grid>\n          </Grid>\n        </ThemeProvider>\n      </section>\n    );\n  }\n}\n\nexport default result;\n","import React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport Child from \"./Child\"\nimport Player from \"./player\"\nimport login from \"./login\";\nimport JsonRead from \"./jsonread\"\nimport selectvideos from \"./selectVideos\";\nimport moveLinkBoxer from \"./boxercise\";\nimport moveLinkHiit from \"./hiit\";\nimport moveLinkYoga from \"./yoga\";\nimport moveLinkExercise from \"./exercise\";\nimport result from \"./result\";\n\nclass App extends React.Component {\n  render() {\n    return (\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <Switch>\n          {/* <Route exact path=\"/\" component={JsonRead} /> */}\n          <Route exact path=\"/\" component={login} />\n          <Route exact path=\"/exercise\" component={moveLinkExercise} />\n          <Route exact path=\"/result\" component={result} />\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\n// function App() {\n//   const [value, setValue] = React.useState([])\n//   return (\n//     <div className=\"App\">\n//       親要素\n//       <Child onClick = {() => setValue([...value,'あ'])} />\n//       {value}\n//     </div>\n//   );\n// }\n\n// function App() {\n//   const [currentTime, setCurrentTime] = React.useState([])\n//   return (\n//     <div className=\"App\">\n//       <Player setCurrentTime = {setCurrentTime}/>\n//       <p>{currentTime}</p>\n//     </div>\n//   );\n\n// }\n\nexport default App;","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}